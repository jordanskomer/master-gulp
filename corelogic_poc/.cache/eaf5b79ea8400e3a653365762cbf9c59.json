{"dependencies":[{"name":"./javascripts/scroll","loc":{"line":1,"column":19}},{"name":"./javascripts/preload","loc":{"line":2,"column":22}},{"name":"./javascripts/resize","loc":{"line":3,"column":19}},{"name":"./javascripts/svg","loc":{"line":4,"column":22}}],"generated":{"js":"\"use strict\";\n\nvar _scroll = require(\"./javascripts/scroll\");\n\nvar _scroll2 = _interopRequireDefault(_scroll);\n\nvar _preload = require(\"./javascripts/preload\");\n\nvar _preload2 = _interopRequireDefault(_preload);\n\nvar _resize = require(\"./javascripts/resize\");\n\nvar _resize2 = _interopRequireDefault(_resize);\n\nvar _svg = require(\"./javascripts/svg\");\n\nvar _svg2 = _interopRequireDefault(_svg);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nlet isMobile = 'ontouchstart' in window || 'onmsgesturechange' in window;\n\n/**\n * Magic happens here\n */\nlet animate = () => {\n  let scrollController = new ScrollMagic.Controller();\n  let tl = new TimelineMax().add(TweenMax.staggerTo('.m-animation__image', 0.05, { opacity: 1 }, 0.05));\n  new ScrollMagic.Scene({\n    triggerElement: '#j-3dAnimation',\n    offset: 250\n  }).on('enter', () => {\n    // scroll.disable()\n    console.log('huh');\n    console.log(tl);\n    tl.play();\n    // scroll.disable()\n  }).setTween(tl).addIndicators().addTo(scrollController);\n\n  //   // 3d Animation\n  //   let controller = new ScrollMagic.Controller({\n  //     globalSceneOptions: {\n  //       offset: 50\n  //     }\n  //   })\n  //   new ScrollMagic.Scene()\n  //     .on('enter', () => {\n  //       timeline.reverse(0).timeScale(4)\n  //     })\n  //     .setTween(tl)\n  //     // .addIndicators()\n  //     .addTo(controller)\n  // }\n};\n\nlet doall = () => {\n  _svg2.default.setup();\n  _resize2.default.init();\n  animate();\n};\n\n/**\n * Preloads images in the background that will be used for the '3D' transition\n *\n * @author jordanskomer\n */\nlet loadImages = () => {\n  const frameCount = 150;\n  let firstImage = document.getElementById('j-image1');\n  // Insert all of the divs\n  for (let frameNumber = 2; frameNumber <= frameCount; frameNumber += 5) {\n    let newDiv = document.createElement('div');\n    newDiv.classList.add('m-animation__image');\n    newDiv.id = 'j-image' + frameNumber;\n    firstImage.parentNode.insertBefore(newDiv, firstImage.nextSibling);\n    // remove this to just be  newDiv.style.backgroundImage = 'url(\\'../images/frames/frame' + frameNumber + '.jpg\\')'\n    newDiv.style.backgroundImage = 'url(\\'images/frames/frame' + frameNumber + '.jpg\\')';\n  }\n  doall();\n};\n\n/**\n * Support for making sure the preloader gets loaded in once the page has been painted and rendered\n *\n * @author jordanskomer\n */\nlet init = () => {\n  let defaultLoad = window.onload;\n  if (typeof window.onload !== 'function') {\n    window.onload = loadImages;\n  } else {\n    window.onload = () => {\n      if (defaultLoad) {\n        defaultLoad();\n      }\n      loadImages();\n    };\n  }\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  if (isMobile) {\n    console.log('im mobile!');\n  } else {\n    init();\n  }\n});"},"hash":"261a68a4a5e6dc19611aa207b17ac1f6"}